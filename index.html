<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Smart Office Hub - IoT Management System</title>
<style>
:root{
  --bg:#0f0f23;
  --card:#1a1a2e;
  --card2:#16213e;
  --text:#e0e0e0;
  --dim:#888;
  --accent:#4ecdc4;
  --accent2:#ffd93d;
  --r:16px;
}

*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',system-ui,sans-serif;background:var(--bg);color:var(--text);min-height:100vh}

/* Header */
.header{background:linear-gradient(135deg,#0a1628,#1a3a5c,#2d6187,#3a7ca5);
color:#fff;padding:20px;position:sticky;top:0;z-index:100;box-shadow:0 4px 12px rgba(0,0,0,.3)}
.header-content{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}
.logo{font-size:1.5rem;font-weight:600;display:flex;align-items:center;gap:10px}
.logo-icon{font-size:2rem}
.nav-header{display:flex;gap:10px;flex-wrap:wrap}
.nav-header button{background:rgba(255,255,255,.15);border:2px solid rgba(255,255,255,.3);
color:#fff;padding:10px 20px;border-radius:10px;cursor:pointer;font-size:0.9rem;
transition:all 0.3s;font-weight:500}
.nav-header button:hover{background:rgba(255,255,255,.25);transform:translateY(-2px)}
.nav-header button.active{background:rgba(255,255,255,.35);border-color:rgba(255,255,255,.6);
box-shadow:0 4px 12px rgba(255,255,255,.3)}
.clock-header{font-size:1rem;opacity:.8;font-variant-numeric:tabular-nums}

/* Home Page Hero */
.home-hero{min-height:80vh;display:flex;align-items:center;justify-content:center;
background:linear-gradient(135deg,#0a1628,#1a3a5c,#2d6187,#3a7ca5);
position:relative;overflow:hidden}
.home-hero::before{content:'';position:absolute;width:100%;height:100%;
background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><circle cx="100" cy="100" r="3" fill="rgba(255,255,255,.1)"/><circle cx="300" cy="200" r="2" fill="rgba(255,255,255,.1)"/><circle cx="500" cy="150" r="3" fill="rgba(255,255,255,.1)"/><circle cx="700" cy="250" r="2" fill="rgba(255,255,255,.1)"/><circle cx="900" cy="180" r="3" fill="rgba(255,255,255,.1)"/><circle cx="1100" cy="220" r="2" fill="rgba(255,255,255,.1)"/></svg>');
opacity:.3;animation:float 20s infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}

.home-content{text-align:center;z-index:1;position:relative;padding:40px 20px}
.home-title{font-size:3.5rem;font-weight:700;margin-bottom:20px;
background:linear-gradient(90deg,#4ecdc4,#ffd93d,#ff6b6b);
-webkit-background-clip:text;-webkit-text-fill-color:transparent;
background-clip:text;animation:gradient 3s ease infinite}
@keyframes gradient{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
.home-subtitle{font-size:1.3rem;opacity:.8;margin-bottom:40px;letter-spacing:1px}
.home-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
gap:20px;max-width:900px;margin:40px auto}
.stat-card{background:rgba(255,255,255,.1);backdrop-filter:blur(10px);
padding:30px;border-radius:20px;border:1px solid rgba(255,255,255,.2);
transition:transform 0.3s}
.stat-card:hover{transform:translateY(-5px);box-shadow:0 10px 30px rgba(0,0,0,.3)}
.stat-icon{font-size:3rem;margin-bottom:10px}
.stat-value{font-size:2rem;font-weight:600;color:var(--accent)}
.stat-label{font-size:0.9rem;opacity:.7;margin-top:5px}

/* Main Content */
.wrap{max-width:1200px;margin:0 auto;padding:30px 20px}
.page{display:none}
.page.active{display:block}

/* Status Bar */
.sb{display:flex;align-items:center;justify-content:center;gap:8px;
padding:12px 24px;border-radius:24px;font-size:.9rem;margin:0 auto 20px;
background:var(--card);width:fit-content;border:1px solid rgba(255,255,255,.08);
box-shadow:0 4px 12px rgba(0,0,0,.2)}
.sd{width:10px;height:10px;border-radius:50%;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:.4;transform:scale(1)}50%{opacity:1;transform:scale(1.2)}}
.sd.ok{background:#0f0;box-shadow:0 0 10px #0f0}
.sd.er{background:#f00;box-shadow:0 0 10px #f00}

/* Weather Cards */
.page-title{font-size:2rem;font-weight:600;margin-bottom:30px;text-align:center;
color:var(--accent)}
.gr{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-top:20px}
.cd{background:var(--card);border-radius:var(--r);padding:24px;
border:1px solid rgba(255,255,255,.08);transition:all .3s;position:relative;overflow:hidden}
.cd::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;
background:linear-gradient(90deg,var(--accent),var(--accent2));opacity:0;transition:opacity .3s}
.cd:hover{transform:translateY(-5px);box-shadow:0 10px 30px rgba(0,0,0,.3)}
.cd:hover::before{opacity:1}
.ic{font-size:2.5rem;margin-bottom:12px}
.lb{font-size:.9rem;opacity:.6;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px;font-weight:500}
.vl{font-size:2.5rem;font-weight:300;margin-bottom:8px}
.un{font-size:1.1rem;opacity:.6;margin-left:6px}
.su{font-size:.8rem;opacity:.5}

/* Charts */
.ch{background:var(--card);border-radius:var(--r);padding:24px;margin-top:20px;
border:1px solid rgba(255,255,255,.08);box-shadow:0 4px 12px rgba(0,0,0,.2)}
.tt{font-size:1.2rem;font-weight:500;margin-bottom:20px;display:flex;
align-items:center;gap:10px;justify-content:space-between;flex-wrap:wrap}
.dt{width:14px;height:14px;border-radius:3px}
.chart-wrapper{position:relative}
canvas{width:100%;height:250px;display:block}
.chart-info{display:flex;justify-content:space-between;margin-top:15px;font-size:.85rem;opacity:.7;flex-wrap:wrap;gap:10px}
.chart-stat{display:flex;align-items:center;gap:8px}
.chart-stat-label{opacity:.6}
.chart-stat-value{font-weight:600;color:var(--accent)}

/* Humidity Gauge */
.hg-card{background:var(--card);border-radius:var(--r);padding:28px;margin-top:20px;
border:1px solid rgba(255,255,255,.08)}
.hg-track{height:14px;background:linear-gradient(90deg,#8B4513 0%,#a0a0a0 25%,#4ecdc4 50%,#95e1d3 75%,#4a90e2 100%);
border-radius:7px;position:relative;margin-top:15px;box-shadow:inset 0 2px 4px rgba(0,0,0,.3)}
.hg-pin{width:28px;height:28px;background:#fff;border:4px solid var(--bg);border-radius:50%;
position:absolute;top:-7px;transform:translateX(-50%);box-shadow:0 3px 10px rgba(0,0,0,.4);transition:left .3s}
.hg-labels{display:flex;justify-content:space-between;font-size:.8rem;opacity:.6;margin-top:12px}

/* Office Map */
.office-container{background:var(--card);border-radius:var(--r);padding:40px;
margin-top:20px;border:1px solid rgba(255,255,255,.08)}
.office-map{position:relative;width:100%;max-width:800px;height:500px;margin:30px auto;
background:#1a1a2e;border:5px solid #555;border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,.4)}

/* Office Rooms - Matching your layout exactly */
.room1-outer{position:absolute;left:0;top:0;width:42%;height:50%;
border-right:5px solid #555;border-bottom:5px solid #555;background:#2a2a3e;transition:background 0.5s}
.room1-door{position:absolute;right:-5px;top:35%;width:40px;height:80px;background:#1a1a2e}

.room2-outer{position:absolute;left:42%;top:0;width:58%;height:50%;
border-bottom:5px solid #555;background:#2a2a3e;transition:background 0.5s}

.corridor-outer{position:absolute;left:0;top:50%;width:60%;height:50%;background:#2a2a3e}
.corridor-main-door{position:absolute;left:-5px;bottom:20%;width:50px;height:40px;background:#1a1a2e}
.corridor-door2{position:absolute;right:20%;bottom:-5px;width:40px;height:50px;background:#1a1a2e}

.room3-outer{position:absolute;left:60%;top:50%;width:40%;height:50%;
border-left:5px solid #555;border-top:5px solid #555;background:#2a2a3e;transition:background 0.5s}
.room3-door{position:absolute;left:-5px;top:25%;width:50px;height:60px;background:#1a1a2e}

/* Gateway (Main Entry) */
.gateway{position:absolute;left:0;bottom:-50px;width:60%;padding:10px;
text-align:center;font-size:0.9rem;opacity:0.7}
.gateway-icon{font-size:1.5rem;margin-bottom:5px}

.room-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}
.room-label{font-size:3rem;font-weight:bold;margin-bottom:15px;opacity:0.9}
.light-bulb{width:90px;height:90px;border-radius:50%;background:#333;
margin:15px auto 0;display:flex;align-items:center;justify-content:center;
font-size:3.5rem;transition:all 0.6s;box-shadow:0 0 0 rgba(255,255,255,0);
border:3px solid #555}
.light-bulb.on{box-shadow:0 0 50px rgba(255,255,255,0.9);border-color:#fff}

.light-info-section{text-align:center;margin:30px 0;padding:20px;
background:rgba(255,255,255,.05);border-radius:12px}
.light-level{font-weight:bold;font-size:1.5rem;color:var(--accent2)}

/* Entry Log Table */
.log-container{background:var(--card);border-radius:var(--r);padding:30px;
margin-top:20px;border:1px solid rgba(255,255,255,.08)}
.log-table{width:100%;border-collapse:collapse;margin-top:20px}
.log-table thead{background:rgba(78,205,196,.2)}
.log-table th{padding:15px;text-align:left;font-weight:600;border-bottom:2px solid var(--accent)}
.log-table td{padding:15px;border-bottom:1px solid rgba(255,255,255,.1)}
.log-table tbody tr{transition:background 0.2s}
.log-table tbody tr:hover{background:rgba(255,255,255,.05)}
.log-time{opacity:.7;font-size:.9rem}
.log-name{font-weight:500}
.log-status{padding:4px 12px;border-radius:20px;font-size:.85rem;font-weight:500}
.log-status.entry{background:rgba(0,255,0,.2);color:#0f0}
.log-status.exit{background:rgba(255,0,0,.2);color:#f55}

/* LED Control */
.led-container{background:var(--card);border-radius:var(--r);padding:30px;
margin-top:20px;border:1px solid rgba(255,255,255,.08)}
.led-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:25px;margin-top:30px}
.led-room-card{background:rgba(255,255,255,.05);padding:25px;border-radius:12px;
border:2px solid rgba(255,255,255,.1);transition:all 0.3s}
.led-room-card:hover{border-color:var(--accent);box-shadow:0 8px 20px rgba(0,0,0,.3)}
.led-room-title{font-size:1.3rem;font-weight:600;margin-bottom:20px;display:flex;
align-items:center;justify-content:space-between}
.led-preview{width:80px;height:80px;border-radius:50%;margin:20px auto;
transition:all 0.3s;box-shadow:0 0 30px currentColor;border:3px solid currentColor}
.color-input-group{margin-top:20px}
.color-input-group label{display:block;margin-bottom:8px;font-size:.9rem;opacity:.8}
.color-input{width:100%;padding:12px;border-radius:8px;border:2px solid rgba(255,255,255,.2);
background:rgba(255,255,255,.05);color:var(--text);font-size:1rem;transition:border-color 0.3s}
.color-input:focus{outline:none;border-color:var(--accent)}
.btn-apply{width:100%;padding:12px;margin-top:15px;background:var(--accent);
border:none;border-radius:8px;color:#000;font-weight:600;font-size:1rem;
cursor:pointer;transition:all 0.3s}
.btn-apply:hover{background:var(--accent2);transform:translateY(-2px);box-shadow:0 6px 16px rgba(0,0,0,.3)}
.btn-apply:active{transform:translateY(0)}

/* Code Comment Boxes for your friend */
.dev-note{background:rgba(255,193,7,.1);border-left:4px solid #ffc107;
padding:15px;margin:20px 0;border-radius:8px;font-family:monospace;font-size:.9rem}
.dev-note-title{font-weight:600;color:#ffc107;margin-bottom:8px}

footer{text-align:center;padding:30px;font-size:.85rem;opacity:.5;margin-top:40px;
border-top:1px solid rgba(255,255,255,.1)}

@media (max-width:768px){
  .home-title{font-size:2.5rem}
  .header-content{flex-direction:column;align-items:stretch}
  .nav-header{justify-content:center}
  .gr{grid-template-columns:1fr}
  .office-map{height:400px}
  .led-grid{grid-template-columns:1fr}
}
</style>
</head>
<body>

<!-- Header -->
<div class="header">
  <div class="header-content">
    <div class="logo">
      <span class="logo-icon">ğŸ¢</span>
      <span>Smart Office Hub</span>
    </div>
    <div class="nav-header">
      <button class="nav-btn active" onclick="showPage('home')">ğŸ  Home</button>
      <button class="nav-btn" onclick="showPage('weather')">ğŸŒ¤ï¸ Weather</button>
      <button class="nav-btn" onclick="showPage('office')">ğŸ’¡ Lighting</button>
      <button class="nav-btn" onclick="showPage('entry')">ğŸ” Entry Log</button>
      <button class="nav-btn" onclick="showPage('led')">ğŸ¨ LED Control</button>
    </div>
    <div class="clock-header" id="clockHeader">00:00:00</div>
  </div>
</div>

<!-- Home Page -->
<div id="home-page" class="page active">
  <div class="home-hero">
    <div class="home-content">
      <h1 class="home-title">Smart Office Hub</h1>
      <p class="home-subtitle">IoT-Powered Workspace Management System</p>
      
      <div class="home-stats">
        <div class="stat-card">
          <div class="stat-icon">ğŸŒ¡ï¸</div>
          <div class="stat-value" id="homeTemp">--Â°C</div>
          <div class="stat-label">Current Temperature</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ’¡</div>
          <div class="stat-value" id="homeLights">--</div>
          <div class="stat-label">Active Lights</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ‘¥</div>
          <div class="stat-value" id="homeEntries">0</div>
          <div class="stat-label">Today's Entries</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">âš¡</div>
          <div class="stat-value" id="homeStatus">LIVE</div>
          <div class="stat-label">System Status</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Weather Page -->
<div id="weather-page" class="page">
  <div class="wrap">
    <h2 class="page-title">ğŸŒ¤ï¸ Environmental Monitoring</h2>
    
    <div class="sb">
      <div class="sd ok" id="st"></div>
      <span id="su">Connecting to ThingSpeak...</span>
    </div>

    <div class="gr">
      <div class="cd">
        <div class="ic">ğŸŒ¡ï¸</div>
        <div class="lb">Temperature</div>
        <div class="vl" id="tv">--<span class="un">Â°C</span></div>
        <div class="su">Current ambient temperature</div>
      </div>
      <div class="cd">
        <div class="ic">ğŸ’§</div>
        <div class="lb">Humidity</div>
        <div class="vl" id="hv">--<span class="un">%</span></div>
        <div class="su">Relative air humidity</div>
      </div>
      <div class="cd">
        <div class="ic">ğŸŒ¬ï¸</div>
        <div class="lb">Pressure</div>
        <div class="vl" id="pv">--<span class="un">hPa</span></div>
        <div class="su">Atmospheric pressure</div>
      </div>
      <div class="cd">
        <div class="ic">ğŸŒ¡ï¸</div>
        <div class="lb">Heat Index</div>
        <div class="vl" id="hiv">--<span class="un">Â°C</span></div>
        <div class="su">Perceived temperature</div>
      </div>
      <div class="cd">
        <div class="ic">ğŸ’</div>
        <div class="lb">Dew Point</div>
        <div class="vl" id="dv">--<span class="un">Â°C</span></div>
        <div class="su">Condensation point</div>
      </div>
      <div class="cd">
        <div class="ic">ğŸ’¡</div>
        <div class="lb">Light Level</div>
        <div class="vl" id="lv">--<span class="un">%</span></div>
        <div class="su">Current brightness</div>
      </div>
    </div>

    <div class="hg-card">
      <div class="tt">Humidity Comfort Level</div>
      <div class="hg-labels">
        <span>ğŸœï¸ Very Dry</span>
        <span>ğŸ˜Š Comfortable</span>
        <span>ğŸ’§ Very Humid</span>
      </div>
      <div class="hg-track">
        <div class="hg-pin" id="hp" style="left:50%"></div>
      </div>
    </div>

    <div class="ch">
      <div class="tt">
        <span><span class="dt" style="background:#ff6b6b"></span> Temperature History</span>
      </div>
      <div class="chart-wrapper">
        <canvas id="c1"></canvas>
      </div>
      <div class="chart-info">
        <div class="chart-stat">
          <span class="chart-stat-label">Min:</span>
          <span class="chart-stat-value" id="tempMin">--Â°C</span>
        </div>
        <div class="chart-stat">
          <span class="chart-stat-label">Max:</span>
          <span class="chart-stat-value" id="tempMax">--Â°C</span>
        </div>
        <div class="chart-stat">
          <span class="chart-stat-label">Avg:</span>
          <span class="chart-stat-value" id="tempAvg">--Â°C</span>
        </div>
        <div class="chart-stat">
          <span class="chart-stat-label">Data Points:</span>
          <span class="chart-stat-value" id="tempCount">--</span>
        </div>
      </div>
    </div>

    <div class="ch">
      <div class="tt">
        <span><span class="dt" style="background:#4ecdc4"></span> Humidity History</span>
      </div>
      <div class="chart-wrapper">
        <canvas id="c2"></canvas>
      </div>
      <div class="chart-info">
        <div class="chart-stat">
          <span class="chart-stat-label">Min:</span>
          <span class="chart-stat-value" id="humMin">--%</span>
        </div>
        <div class="chart-stat">
          <span class="chart-stat-label">Max:</span>
          <span class="chart-stat-value" id="humMax">--%</span>
        </div>
        <div class="chart-stat">
          <span class="chart-stat-label">Avg:</span>
          <span class="chart-stat-value" id="humAvg">--%</span>
        </div>
        <div class="chart-stat">
          <span class="chart-stat-label">Data Points:</span>
          <span class="chart-stat-value" id="humCount">--</span>
        </div>
      </div>
    </div>

    <div class="ch">
      <div class="tt">
        <span><span class="dt" style="background:#ffd93d"></span> Pressure History</span>
      </div>
      <div class="chart-wrapper">
        <canvas id="c3"></canvas>
      </div>
      <div class="chart-info">
        <div class="chart-stat">
          <span class="chart-stat-label">Min:</span>
          <span class="chart-stat-value" id="presMin">--hPa</span>
        </div>
        <div class="chart-stat">
          <span class="chart-stat-label">Max:</span>
          <span class="chart-stat-value" id="presMax">--hPa</span>
        </div>
        <div class="chart-stat">
          <span class="chart-stat-label">Avg:</span>
          <span class="chart-stat-value" id="presAvg">--hPa</span>
        </div>
        <div class="chart-stat">
          <span class="chart-stat-label">Trend:</span>
          <span class="chart-stat-value" id="presTrend">--</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Office Lighting Map Page -->
<div id="office-page" class="page">
  <div class="wrap">
    <h2 class="page-title">ğŸ’¡ Office Lighting Control Map</h2>
    
    <div class="sb">
      <div class="sd ok" id="st2"></div>
      <span id="lightStatus">Monitoring lighting system...</span>
    </div>

    <div class="office-container">
      <div class="office-map">
        <!-- Room 1 - Top Left -->
        <div class="room1-outer" id="room1bg">
          <div class="room1-door"></div>
          <div class="room-content">
            <div class="room-label">1</div>
            <div class="light-bulb" id="bulb1">ğŸ’¡</div>
          </div>
        </div>
        
        <!-- Room 2 - Top Right (Large) -->
        <div class="room2-outer" id="room2bg">
          <div class="room-content">
            <div class="room-label">2</div>
            <div class="light-bulb" id="bulb2">ğŸ’¡</div>
          </div>
        </div>
        
        <!-- Corridor/Gateway - Bottom Left -->
        <div class="corridor-outer">
          <div class="corridor-main-door"></div>
          <div class="corridor-door2"></div>
        </div>
        
        <!-- Room 3 - Bottom Right -->
        <div class="room3-outer" id="room3bg">
          <div class="room3-door"></div>
          <div class="room-content">
            <div class="room-label">3</div>
            <div class="light-bulb" id="bulb3">ğŸ’¡</div>
          </div>
        </div>
      </div>
      
      <div class="gateway">
        <div class="gateway-icon">ğŸšª</div>
        <div>Main Office Gateway</div>
      </div>
    </div>

    <div class="light-info-section">
      <div style="font-size:1.1rem;opacity:0.8;margin-bottom:10px">Current Lighting Level</div>
      <div class="light-level" id="lightLevelText">Loading...</div>
    </div>

    <div class="ch">
      <div class="tt">
        <span><span class="dt" style="background:#ffd93d"></span> Light Level History</span>
      </div>
      <div class="chart-wrapper">
        <canvas id="c4"></canvas>
      </div>
      <div class="chart-info">
        <div class="chart-stat">
          <span class="chart-stat-label">Min:</span>
          <span class="chart-stat-value" id="lightMin">--%</span>
        </div>
        <div class="chart-stat">
          <span class="chart-stat-label">Max:</span>
          <span class="chart-stat-value" id="lightMax">--%</span>
        </div>
        <div class="chart-stat">
          <span class="chart-stat-label">Avg:</span>
          <span class="chart-stat-value" id="lightAvg">--%</span>
        </div>
        <div class="chart-stat">
          <span class="chart-stat-label">Mode:</span>
          <span class="chart-stat-value" id="lightMode">--</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Entry Log Page -->
<div id="entry-page" class="page">
  <div class="wrap">
    <h2 class="page-title">ğŸ” Office Entry Access Log</h2>
    
    <div class="sb">
      <div class="sd ok" id="st3"></div>
      <span>Real-time RFID access monitoring</span>
    </div>

    <div class="dev-note">
      <div class="dev-note-title">ğŸ“ DEVELOPER NOTE - Arduino Mega Integration:</div>
      <div>Your friend should send data to this page using HTTP POST/GET requests.</div>
      <div style="margin-top:8px"><strong>Endpoint:</strong> Create a backend endpoint (e.g., PHP/Node.js) to receive:</div>
      <div style="margin-left:15px;margin-top:5px">
        â€¢ <code>cardID</code> - RFID card unique identifier<br>
        â€¢ <code>name</code> - Employee/User name<br>
        â€¢ <code>timestamp</code> - Entry time (or use server time)<br>
        â€¢ <code>action</code> - "entry" or "exit"
      </div>
      <div style="margin-top:8px"><strong>Arduino Code Example:</strong></div>
      <div style="margin-left:15px;margin-top:5px;font-size:0.85rem">
        <code>
          // Send to server<br>
          String url = "http://yourserver.com/api/log.php?cardID=" + cardID + "&name=" + userName + "&action=entry";<br>
          http.begin(url);<br>
          http.GET();
        </code>
      </div>
      <div style="margin-top:8px"><strong>Data Storage:</strong> Store in database (MySQL/Firebase) and fetch here via JavaScript</div>
    </div>

    <div class="log-container">
      <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px">
        <h3>Recent Access Records</h3>
        <div style="font-size:0.9rem;opacity:0.7">
          Today: <span style="color:var(--accent);font-weight:600" id="todayCount">0</span> entries
        </div>
      </div>
      
      <table class="log-table">
        <thead>
          <tr>
            <th>Timestamp</th>
            <th>Employee Name</th>
            <th>Card ID</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="logTableBody">
          <!-- SAMPLE DATA - Replace with real data from your backend -->
          <tr>
            <td class="log-time">2026-02-15 09:23:45</td>
            <td class="log-name">John Doe</td>
            <td>RFID-001234</td>
            <td><span class="log-status entry">ENTRY</span></td>
          </tr>
          <tr>
            <td class="log-time">2026-02-15 09:15:32</td>
            <td class="log-name">Jane Smith</td>
            <td>RFID-005678</td>
            <td><span class="log-status entry">ENTRY</span></td>
          </tr>
          <tr>
            <td class="log-time">2026-02-15 08:45:12</td>
            <td class="log-name">Mike Johnson</td>
            <td>RFID-009876</td>
            <td><span class="log-status exit">EXIT</span></td>
          </tr>
          <!-- Your friend's Arduino data will populate here -->
        </tbody>
      </table>

      <div class="dev-note" style="margin-top:20px">
        <div class="dev-note-title">ğŸ”§ JavaScript Integration:</div>
        <div>To fetch and display real data, use:</div>
        <div style="margin-top:8px;font-size:0.85rem">
          <code>
            fetch('http://yourserver.com/api/getLogs.php')<br>
            &nbsp;&nbsp;.then(res => res.json())<br>
            &nbsp;&nbsp;.then(data => {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;// Update table with data.logs<br>
            &nbsp;&nbsp;&nbsp;&nbsp;updateLogTable(data);<br>
            &nbsp;&nbsp;});
          </code>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- LED Control Page -->
<div id="led-page" class="page">
  <div class="wrap">
    <h2 class="page-title">ğŸ¨ Smart RGB LED Controller</h2>
    
    <div class="sb">
      <div class="sd ok" id="st4"></div>
      <span>Web-based LED color management</span>
    </div>

    <div class="dev-note">
      <div class="dev-note-title">ğŸ“ DEVELOPER NOTE - Arduino Mega LED Control:</div>
      <div>This page sends color commands to Arduino Mega. Your friend needs to:</div>
      <div style="margin-top:8px">
        <strong>1. Arduino Setup:</strong> Listen for HTTP requests with color data<br>
        <strong>2. Endpoint:</strong> Create API endpoint (e.g., <code>/api/setLED.php?room=1&color=FF0000</code>)<br>
        <strong>3. Arduino receives:</strong> Parse HEX color and set RGB LED strips accordingly
      </div>
      <div style="margin-top:8px"><strong>Arduino Code Example:</strong></div>
      <div style="margin-left:15px;margin-top:5px;font-size:0.85rem">
        <code>
          // Receive from server/webpage<br>
          String color = getColorFromServer(); // e.g., "FF0000"<br>
          int r = hexToInt(color.substring(0,2));<br>
          int g = hexToInt(color.substring(2,4));<br>
          int b = hexToInt(color.substring(4,6));<br>
          setLEDColor(room, r, g, b);
        </code>
      </div>
      <div style="margin-top:8px"><strong>WebSocket Option:</strong> For real-time updates, consider WebSocket connection</div>
    </div>

    <div class="led-container">
      <h3>Individual Room LED Control</h3>
      
      <div class="led-grid">
        <!-- Room 1 LED Control -->
        <div class="led-room-card">
          <div class="led-room-title">
            <span>ğŸ’¡ Room 1</span>
            <span style="font-size:0.9rem;opacity:0.7">LED Strip Control</span>
          </div>
          <div class="led-preview" id="ledPreview1" style="background-color:#333"></div>
          <div class="color-input-group">
            <label>Color (HEX):</label>
            <input type="text" class="color-input" id="colorInput1" 
                   placeholder="#FF0000" maxlength="7" value="#FF0000">
          </div>
          <div class="color-input-group">
            <label>Color Picker:</label>
            <input type="color" class="color-input" id="colorPicker1" 
                   value="#FF0000" style="height:50px;cursor:pointer">
          </div>
          <button class="btn-apply" onclick="applyColor(1)">Apply to Room 1</button>
        </div>

        <!-- Room 2 LED Control -->
        <div class="led-room-card">
          <div class="led-room-title">
            <span>ğŸ’¡ Room 2</span>
            <span style="font-size:0.9rem;opacity:0.7">LED Strip Control</span>
          </div>
          <div class="led-preview" id="ledPreview2" style="background-color:#333"></div>
          <div class="color-input-group">
            <label>Color (HEX):</label>
            <input type="text" class="color-input" id="colorInput2" 
                   placeholder="#00FF00" maxlength="7" value="#00FF00">
          </div>
          <div class="color-input-group">
            <label>Color Picker:</label>
            <input type="color" class="color-input" id="colorPicker2" 
                   value="#00FF00" style="height:50px;cursor:pointer">
          </div>
          <button class="btn-apply" onclick="applyColor(2)">Apply to Room 2</button>
        </div>

        <!-- Room 3 LED Control -->
        <div class="led-room-card">
          <div class="led-room-title">
            <span>ğŸ’¡ Room 3</span>
            <span style="font-size:0.9rem;opacity:0.7">LED Strip Control</span>
          </div>
          <div class="led-preview" id="ledPreview3" style="background-color:#333"></div>
          <div class="color-input-group">
            <label>Color (HEX):</label>
            <input type="text" class="color-input" id="colorInput3" 
                   placeholder="#0000FF" maxlength="7" value="#0000FF">
          </div>
          <div class="color-input-group">
            <label>Color Picker:</label>
            <input type="color" class="color-input" id="colorPicker3" 
                   value="#0000FF" style="height:50px;cursor:pointer">
          </div>
          <button class="btn-apply" onclick="applyColor(3)">Apply to Room 3</button>
        </div>
      </div>

      <div class="dev-note" style="margin-top:30px">
        <div class="dev-note-title">ğŸ”§ JavaScript Send Function (for your friend):</div>
        <div style="margin-top:8px;font-size:0.85rem">
          <code>
            function applyColor(room) {<br>
            &nbsp;&nbsp;let color = document.getElementById('colorInput' + room).value;<br>
            &nbsp;&nbsp;color = color.replace('#', ''); // Remove # symbol<br>
            &nbsp;&nbsp;<br>
            &nbsp;&nbsp;// Send to Arduino backend<br>
            &nbsp;&nbsp;fetch('http://yourserver.com/api/setLED.php?room=' + room + '&color=' + color)<br>
            &nbsp;&nbsp;&nbsp;&nbsp;.then(res => res.json())<br>
            &nbsp;&nbsp;&nbsp;&nbsp;.then(data => {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(data.success) alert('LED color updated!');<br>
            &nbsp;&nbsp;&nbsp;&nbsp;});<br>
            }
          </code>
        </div>
      </div>
    </div>
  </div>
</div>

<footer>
  Smart Office Hub Â© 2026 | NYP Engineering Project | Powered by M5GO + ThingSpeak + Arduino Mega
</footer>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// THINGSPEAK CONFIGURATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var CHANNEL = '3260324';
var READ_KEY = 'RSDE9TXRGDX5HIL0';
var UPDATE_INTERVAL = 5000; // 5 seconds (reduced from 15)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GLOBAL VARIABLES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var fc = 0;
var currentPage = 'home';
var chartDataCache = {temp:[], hum:[], pres:[], light:[]};

function $(id){return document.getElementById(id)}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// NAVIGATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showPage(page) {
  currentPage = page;
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  
  $(page + '-page').classList.add('active');
  document.querySelectorAll('.nav-btn').forEach(b => {
    if(b.textContent.toLowerCase().includes(page) || 
       (page === 'home' && b.textContent.includes('Home'))) {
      b.classList.add('active');
    }
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CLOCK
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateClock(){
  var n = new Date();
  var h = n.getHours(), m = n.getMinutes(), s = n.getSeconds();
  $('clockHeader').textContent = 
    (h<10?'0':'')+h+':'+(m<10?'0':'')+m+':'+(s<10?'0':'')+s;
}
setInterval(updateClock, 1000);
updateClock();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// OFFICE LIGHTING CONTROL
// â•â•ï¿½ï¿½â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateOfficeLights(lightLevel) {
  var bulb1 = $('bulb1'), bulb2 = $('bulb2'), bulb3 = $('bulb3');
  var room1 = $('room1bg'), room2 = $('room2bg'), room3 = $('room3bg');
  var levelText = $('lightLevelText');
  var statusText = $('lightStatus');
  
  // Reset
  [bulb1, bulb2, bulb3].forEach(b => {
    b.classList.remove('on');
    b.style.background = '#333';
  });
  [room1, room2, room3].forEach(r => r.style.background = '#2a2a3e');
  
  if(lightLevel === 0) {
    levelText.textContent = 'OFF (0%)';
    levelText.style.color = '#888';
    statusText.textContent = 'âš« All lights are OFF';
  } else if(lightLevel === 10) {
    levelText.textContent = 'ECO MODE (10%)';
    levelText.style.color = '#ffff99';
    bulb1.classList.add('on');
    bulb1.style.background = 'radial-gradient(circle, #ffff99, #888800)';
    room1.style.background = 'rgba(255, 255, 153, 0.12)';
    statusText.textContent = 'ğŸŸ¡ Room 1 dimly lit (ECO mode)';
  } else if(lightLevel === 30) {
    levelText.textContent = 'NORMAL MODE (30%)';
    levelText.style.color = '#ffff99';
    bulb1.classList.add('on');
    bulb2.classList.add('on');
    bulb1.style.background = 'radial-gradient(circle, #ffffaa, #aaaa00)';
    bulb2.style.background = 'radial-gradient(circle, #ffff99, #888800)';
    room1.style.background = 'rgba(255, 255, 170, 0.18)';
    room2.style.background = 'rgba(255, 255, 153, 0.12)';
    statusText.textContent = 'ğŸŸ¡ Rooms 1 & 2 active (NORMAL)';
  } else if(lightLevel === 40) {
    levelText.textContent = 'BLUE MODE (40%)';
    levelText.style.color = '#99ffff';
    bulb1.classList.add('on');
    bulb2.classList.add('on');
    bulb1.style.background = 'radial-gradient(circle, #99ffff, #0088aa)';
    bulb2.style.background = 'radial-gradient(circle, #99ffff, #0088aa)';
    room1.style.background = 'rgba(153, 255, 255, 0.18)';
    room2.style.background = 'rgba(153, 255, 255, 0.18)';
    statusText.textContent = 'ğŸ”µ Cool blue lighting active';
  } else if(lightLevel === 50) {
    levelText.textContent = 'BRIGHT MODE (50%)';
    levelText.style.color = '#ccffff';
    bulb1.classList.add('on');
    bulb2.classList.add('on');
    bulb3.classList.add('on');
    bulb1.style.background = 'radial-gradient(circle, #ccffff, #00aacc)';
    bulb2.style.background = 'radial-gradient(circle, #ccffff, #00aacc)';
    bulb3.style.background = 'radial-gradient(circle, #aaffff, #005566)';
    room1.style.background = 'rgba(204, 255, 255, 0.22)';
    room2.style.background = 'rgba(204, 255, 255, 0.22)';
    room3.style.background = 'rgba(170, 255, 255, 0.18)';
    statusText.textContent = 'âšª All rooms fully lit';
  } else if(lightLevel >= 70) {
    levelText.textContent = 'MAXIMUM (70%)';
    levelText.style.color = '#ffffff';
    bulb1.classList.add('on');
    bulb2.classList.add('on');
    bulb3.classList.add('on');
    bulb1.style.background = 'radial-gradient(circle, #ffffff, #cccccc)';
    bulb2.style.background = 'radial-gradient(circle, #ffffff, #cccccc)';
    bulb3.style.background = 'radial-gradient(circle, #ffffff, #cccccc)';
    room1.style.background = 'rgba(255, 255, 255, 0.28)';
    room2.style.background = 'rgba(255, 255, 255, 0.28)';
    room3.style.background = 'rgba(255, 255, 255, 0.28)';
    statusText.textContent = 'âšª MAXIMUM brightness mode';
  }
  
  // Update home page
  var lightMode = ['OFF', 'ECO', 'NORMAL', 'BLUE', 'BRIGHT', 'MAX'];
  var modeIdx = lightLevel === 0 ? 0 : lightLevel === 10 ? 1 : 
                lightLevel === 30 ? 2 : lightLevel === 40 ? 3 : 
                lightLevel === 50 ? 4 : 5;
  $('homeLights').textContent = lightMode[modeIdx];
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CHART DRAWING WITH ENHANCED INFO
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function drawChart(cv, data, color, unit, statsIds) {
  if(!data || data.length < 1) return;
  
  var c = cv.getContext('2d'), dpr = window.devicePixelRatio || 1;
  var W = cv.clientWidth * dpr, H = cv.clientHeight * dpr;
  cv.width = W; cv.height = H;
  c.clearRect(0, 0, W, H);

  // Grid lines
  c.strokeStyle = 'rgba(255,255,255,.05)';
  c.lineWidth = 1;
  for(var g = 0; g < 5; g++) {
    var gy = H * (g * 0.2);
    c.beginPath();
    c.moveTo(0, gy);
    c.lineTo(W, gy);
    c.stroke();
  }

  // Calculate statistics
  var mn = Math.min(...data);
  var mx = Math.max(...data);
  var avg = data.reduce((a,b) => a+b, 0) / data.length;
  var rn = mx - mn || 1;
  var pd = H * 0.15;
  var pts = [];
  
  for(var i = 0; i < data.length; i++) {
    var x = data.length === 1 ? W/2 : (i/(data.length-1)) * W;
    var y = H - pd - ((data[i] - mn) / rn) * (H - 2*pd);
    pts.push([x, y]);
  }

  // Gradient fill
  var gr = c.createLinearGradient(0, 0, 0, H);
  gr.addColorStop(0, color + '40');
  gr.addColorStop(0.5, color + '15');
  gr.addColorStop(1, color + '00');
  c.fillStyle = gr;
  c.beginPath();
  c.moveTo(pts[0][0], H);
  for(var i = 0; i < pts.length; i++) c.lineTo(pts[i][0], pts[i][1]);
  c.lineTo(pts[pts.length-1][0], H);
  c.closePath();
  c.fill();

  // Line
  c.strokeStyle = color;
  c.lineWidth = 3 * dpr;
  c.lineJoin = 'round';
  c.lineCap = 'round';
  c.beginPath();
  c.moveTo(pts[0][0], pts[0][1]);
  for(var i = 1; i < pts.length; i++) c.lineTo(pts[i][0], pts[i][1]);
  c.stroke();

  // Points
  for(var i = 0; i < pts.length; i++) {
    c.fillStyle = color;
    c.beginPath();
    c.arc(pts[i][0], pts[i][1], 4*dpr, 0, Math.PI*2);
    c.fill();
    c.strokeStyle = '#1a1a2e';
    c.lineWidth = 2*dpr;
    c.stroke();
  }

  // Axis labels
  c.fillStyle = 'rgba(255,255,255,.7)';
  c.font = (12*dpr) + 'px sans-serif';
  c.textAlign = 'left';
  c.fillText(mn.toFixed(1) + unit, 8, H - 8);
  c.textAlign = 'right';
  c.fillText(mx.toFixed(1) + unit, W - 8, 20*dpr);
  
  // Update stats if provided
  if(statsIds) {
    $(statsIds.min).textContent = mn.toFixed(1) + unit;
    $(statsIds.max).textContent = mx.toFixed(1) + unit;
    $(statsIds.avg).textContent = avg.toFixed(1) + unit;
    $(statsIds.count).textContent = data.length;
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ï¿½ï¿½ï¿½â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FETCH THINGSPEAK DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function fetchData() {
  var url = 'https://api.thingspeak.com/channels/' + CHANNEL + 
            '/feeds.json?api_key=' + READ_KEY + '&results=30';
  
  var xhr = new XMLHttpRequest();
  xhr.open('GET', url, true);
  xhr.onload = function() {
    if(xhr.status === 200) {
      try {
        var d = JSON.parse(xhr.responseText);
        if(d.feeds && d.feeds.length > 0) {
          fc++;
          var f = d.feeds[d.feeds.length - 1];
          
          // Parse data
          var temp = parseFloat(f.field1) || 0;
          var hum = parseFloat(f.field2) || 0;
          var pres = parseFloat(f.field3) || 0;
          var light = parseFloat(f.field4) || 0;
          var dew = parseFloat(f.field5) || 0;
          var heat = parseFloat(f.field6) || 0;

          // Update displays
          $('tv').innerHTML = temp.toFixed(1) + '<span class="un">Â°C</span>';
          $('hv').innerHTML = hum.toFixed(1) + '<span class="un">%</span>';
          $('pv').innerHTML = pres.toFixed(1) + '<span class="un">hPa</span>';
          $('hiv').innerHTML = heat.toFixed(1) + '<span class="un">Â°C</span>';
          $('dv').innerHTML = dew.toFixed(1) + '<span class="un">Â°C</span>';
          $('lv').innerHTML = light.toFixed(0) + '<span class="un">%</span>';
          
          // Home page
          $('homeTemp').textContent = temp.toFixed(1) + 'Â°C';
          
          // Humidity pin
          $('hp').style.left = Math.max(0, Math.min(100, hum)) + '%';
          
          // Update office lights
          updateOfficeLights(light);

          // Prepare chart data
          var tempData = [], humData = [], presData = [], lightData = [];
          for(var i = 0; i < d.feeds.length; i++) {
            tempData.push(parseFloat(d.feeds[i].field1) || 0);
            humData.push(parseFloat(d.feeds[i].field2) || 0);
            presData.push(parseFloat(d.feeds[i].field3) || 0);
            lightData.push(parseFloat(d.feeds[i].field4) || 0);
          }

          // Draw charts with stats
          drawChart($('c1'), tempData, '#ff6b6b', 'Â°C', 
                    {min:'tempMin', max:'tempMax', avg:'tempAvg', count:'tempCount'});
          drawChart($('c2'), humData, '#4ecdc4', '%', 
                    {min:'humMin', max:'humMax', avg:'humAvg', count:'humCount'});
          drawChart($('c3'), presData, '#ffd93d', 'hPa', 
                    {min:'presMin', max:'presMax', avg:'presAvg', count:null});
          drawChart($('c4'), lightData, '#ffd93d', '%', 
                    {min:'lightMin', max:'lightMax', avg:'lightAvg', count:null});
          
          // Pressure trend
          if(presData.length > 1) {
            var trend = presData[presData.length-1] - presData[0];
            $('presTrend').textContent = trend > 0 ? 'ğŸ“ˆ Rising' : trend < 0 ? 'ğŸ“‰ Falling' : 'â¡ï¸ Stable';
          }
          
          // Light mode
          var lMode = light === 0 ? 'OFF' : light <= 10 ? 'ECO' : 
                      light <= 30 ? 'NORMAL' : light <= 40 ? 'BLUE' : 
                      light <= 50 ? 'BRIGHT' : 'MAX';
          $('lightMode').textContent = lMode;

          // Status
          $('st').className = 'sd ok';
          $('st2').className = 'sd ok';
          $('st3').className = 'sd ok';
          $('st4').className = 'sd ok';
          $('su').textContent = 'Live Â· ' + fc + ' updates';
          $('homeStatus').textContent = 'LIVE';
        }
      } catch(e) {
        console.error('Parse error:', e);
        $('st').className = 'sd er';
        $('su').textContent = 'Parse error';
      }
    } else {
      $('st').className = 'sd er';
      $('su').textContent = 'Connection failed';
    }
  };
  xhr.onerror = function() {
    $('st').className = 'sd er';
    $('su').textContent = 'Network error';
  };
  xhr.send();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LED CONTROL FUNCTIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Sync color picker with text input
for(let i = 1; i <= 3; i++) {
  $('colorPicker' + i).addEventListener('input', function() {
    $('colorInput' + i).value = this.value.toUpperCase();
    $('ledPreview' + i).style.backgroundColor = this.value;
  });
  
  $('colorInput' + i).addEventListener('input', function() {
    var val = this.value;
    if(val.startsWith('#') && (val.length === 7 || val.length === 4)) {
      $('colorPicker' + i).value = val;
      $('ledPreview' + i).style.backgroundColor = val;
    }
  });
}

function applyColor(room) {
  var color = $('colorInput' + room).value.replace('#', '');
  
  // Validate HEX
  if(!/^[0-9A-F]{6}$/i.test(color)) {
    alert('Invalid HEX color! Use format: #RRGGBB (e.g., #FF0000)');
    return;
  }
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // YOUR FRIEND SHOULD REPLACE THIS WITH ACTUAL API CALL
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ï¿½ï¿½â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  console.log('Sending to Arduino: Room ' + room + ' = #' + color);
  
  // EXAMPLE: Send to backend
  /*
  fetch('http://yourserver.com/api/setLED.php?room=' + room + '&color=' + color)
    .then(res => res.json())
    .then(data => {
      if(data.success) {
        alert('âœ… LED color updated for Room ' + room + '!');
      } else {
        alert('âŒ Failed to update LED');
      }
    })
    .catch(err => {
      console.error('Error:', err);
      alert('âŒ Connection error');
    });
  */
  
  // Demo feedback
  alert('âœ… Color #' + color + ' applied to Room ' + room + '\n\n' +
        '(Your friend needs to implement the actual Arduino communication here)');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INITIALIZATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
fetchData();
setInterval(fetchData, UPDATE_INTERVAL);

// Demo entry count (your friend will replace this)
$('homeEntries').textContent = '12';
$('todayCount').textContent = '12';
</script>

</body>
</html>
